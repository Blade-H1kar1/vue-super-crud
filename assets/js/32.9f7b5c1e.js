(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{363:function(e,t,i){"use strict";var o=i(130),n=i(17);e.exports=function(e,t,i){return i.get&&o(i.get,t,{getter:!0}),i.set&&o(i.set,t,{setter:!0}),n.f(e,t,i)}},367:function(e,t,i){"use strict";var o=TypeError;e.exports=function(e,t){if(e<t)throw new o("Not enough arguments");return e}},388:function(e,t,i){"use strict";var o=i(129),n=i(5),a=i(62),l=i(367),s=URLSearchParams,r=s.prototype,c=n(r.append),u=n(r.delete),p=n(r.forEach),d=n([].push),f=new s("a=1&a=2&b=3");f.delete("a",1),f.delete("b",void 0),f+""!="a=2"&&o(r,"delete",(function(e){var t=arguments.length,i=t<2?void 0:arguments[1];if(t&&void 0===i)return u(this,e);var o=[];p(this,(function(e,t){d(o,{key:t,value:e})})),l(t,1);for(var n,s=a(e),r=a(i),f=0,m=0,g=!1,h=o.length;f<h;)n=o[f++],g||n.key===s?(g=!0,u(this,n.key)):m++;for(;m<h;)(n=o[m++]).key===s&&n.value===r||c(this,n.key,n.value)}),{enumerable:!0,unsafe:!0})},389:function(e,t,i){"use strict";var o=i(129),n=i(5),a=i(62),l=i(367),s=URLSearchParams,r=s.prototype,c=n(r.getAll),u=n(r.has),p=new s("a=1");!p.has("a",2)&&p.has("a",void 0)||o(r,"has",(function(e){var t=arguments.length,i=t<2?void 0:arguments[1];if(t&&void 0===i)return u(this,e);var o=c(this,e);l(t,1);for(var n=a(i),s=0;s<o.length;)if(o[s++]===n)return!0;return!1}),{enumerable:!0,unsafe:!0})},390:function(e,t,i){"use strict";var o=i(8),n=i(5),a=i(363),l=URLSearchParams.prototype,s=n(l.forEach);o&&!("size"in l)&&a(l,"size",{get:function(){var e=0;return s(this,(function(){e++})),e},configurable:!0,enumerable:!0})},587:function(e,t,i){},785:function(e,t,i){"use strict";i(587)},859:function(e,t,i){"use strict";i.r(t);i(16),i(388),i(389),i(390);var o={name:"CrudAreaSelectionCustomConfig",data:()=>({searchForm:{},importDialogVisible:!1,importConfigText:"",config:{show:!0,selection:!0,copy:!0,paste:!0,cut:!0,fill:!0,undo:!0,contextMenu:!0,pasteValidation:!0,formatPreservation:!0,multiSelection:!1,maxHistorySize:50,selectionDelay:100,selectionColor:"#409EFF",borderWidth:2,opacity:.3,animation:!0,readonly:!1,disabledColumns:[],disabledRows:"",fillCustomLists:[{name:"优先级",items:["低","中","高","紧急"],inputVisible:!1,inputValue:""},{name:"状态",items:["待处理","进行中","已完成","已取消"],inputVisible:!1,inputValue:""}]},tableData:[{id:1,task:"任务1",priority:"高",status:"进行中",assignee:"张三",department:"开发部",deadline:"2024-01-20",progress:75},{id:2,task:"任务2",priority:"中",status:"待处理",assignee:"李四",department:"测试部",deadline:"2024-01-25",progress:0},{id:3,task:"任务3",priority:"低",status:"已完成",assignee:"王五",department:"产品部",deadline:"2024-01-15",progress:100},{id:4,task:"",priority:"",status:"",assignee:"",department:"",deadline:"",progress:""},{id:5,task:"",priority:"",status:"",assignee:"",department:"",deadline:"",progress:""},{id:6,task:"",priority:"",status:"",assignee:"",department:"",deadline:"",progress:""}]}),computed:{options(){return{areaSelection:this.currentConfig,editConfig:{trigger:"click",mode:"cell"},height:"350px",renderColumns:[{prop:"id",label:"ID",width:60,isEdit:!1},{prop:"task",label:"任务",width:120,form:{comp:{name:"el-input",placeholder:"请输入任务"}}},{prop:"priority",label:"优先级",width:100,form:{comp:{name:"el-select",placeholder:"请选择优先级",options:[{label:"低",value:"低"},{label:"中",value:"中"},{label:"高",value:"高"},{label:"紧急",value:"紧急"}]}}},{prop:"status",label:"状态",width:100,form:{comp:{name:"el-select",placeholder:"请选择状态",options:[{label:"待处理",value:"待处理"},{label:"进行中",value:"进行中"},{label:"已完成",value:"已完成"},{label:"已取消",value:"已取消"}]}}},{prop:"assignee",label:"负责人",width:100,form:{comp:{name:"el-input",placeholder:"请输入负责人"}}},{prop:"department",label:"部门",width:100,form:{comp:{name:"el-select",placeholder:"请选择部门",options:[{label:"开发部",value:"开发部"},{label:"测试部",value:"测试部"},{label:"产品部",value:"产品部"},{label:"设计部",value:"设计部"}]}}},{prop:"deadline",label:"截止日期",width:120,form:{comp:{name:"el-date-picker",type:"date",placeholder:"请选择截止日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"}}},{prop:"progress",label:"进度(%)",width:100,form:{comp:{name:"el-input-number",min:0,max:100,step:5,placeholder:"请输入进度"}}}]}},currentConfig(){const e=this.config.disabledRows?this.config.disabledRows.split(",").map(e=>parseInt(e.trim())).filter(e=>!isNaN(e)):[];return{...this.config,disabledRows:e,style:{selectionColor:this.config.selectionColor,borderWidth:this.config.borderWidth+"px",opacity:this.config.opacity}}}},methods:{updateConfig(){this.$nextTick(()=>{this.$refs.crud&&this.$refs.crud.updateAreaSelectionConfig&&this.$refs.crud.updateAreaSelectionConfig(this.currentConfig)})},handleSelectionChange(e){},handleConfigChange(e){},applyPreset(e){const t={basic:{show:!0,selection:!0,copy:!0,paste:!0,cut:!1,fill:!1,undo:!1,contextMenu:!1,pasteValidation:!1,formatPreservation:!0,multiSelection:!1,maxHistorySize:20,selectionDelay:100,selectionColor:"#409EFF",borderWidth:2,opacity:.3,animation:!0,readonly:!1,disabledColumns:[],disabledRows:""},advanced:{show:!0,selection:!0,copy:!0,paste:!0,cut:!0,fill:!0,undo:!0,contextMenu:!0,pasteValidation:!0,formatPreservation:!0,multiSelection:!0,maxHistorySize:100,selectionDelay:50,selectionColor:"#67C23A",borderWidth:3,opacity:.4,animation:!0,readonly:!1,disabledColumns:[],disabledRows:""},readonly:{show:!0,selection:!0,copy:!0,paste:!1,cut:!1,fill:!1,undo:!1,contextMenu:!1,pasteValidation:!1,formatPreservation:!1,multiSelection:!1,maxHistorySize:0,selectionDelay:200,selectionColor:"#909399",borderWidth:1,opacity:.2,animation:!1,readonly:!0,disabledColumns:["task","priority","status","assignee","department","deadline","progress"],disabledRows:""},minimal:{show:!0,selection:!0,copy:!1,paste:!1,cut:!1,fill:!1,undo:!1,contextMenu:!1,pasteValidation:!1,formatPreservation:!1,multiSelection:!1,maxHistorySize:0,selectionDelay:100,selectionColor:"#E6A23C",borderWidth:1,opacity:.2,animation:!1,readonly:!1,disabledColumns:[],disabledRows:""},excel:{show:!0,selection:!0,copy:!0,paste:!0,cut:!0,fill:!0,undo:!0,contextMenu:!0,pasteValidation:!0,formatPreservation:!0,multiSelection:!0,maxHistorySize:50,selectionDelay:0,selectionColor:"#409EFF",borderWidth:2,opacity:.3,animation:!1,readonly:!1,disabledColumns:[],disabledRows:""}};t[e]&&(Object.assign(this.config,t[e]),this.updateConfig(),this.$message.success(`已应用${e}预设配置`))},exportConfig(){const e=JSON.stringify(this.currentConfig,null,2),t=new Blob([e],{type:"application/json"}),i=URL.createObjectURL(t),o=document.createElement("a");o.href=i,o.download="areaSelection-config.json",o.click(),URL.revokeObjectURL(i),this.$message.success("配置已导出")},importConfig(){this.importDialogVisible=!0},confirmImport(){try{const e=JSON.parse(this.importConfigText);Object.assign(this.config,e),this.updateConfig(),this.importDialogVisible=!1,this.importConfigText="",this.$message.success("配置导入成功")}catch(e){this.$message.error("配置格式错误，请检查JSON格式")}},resetConfig(){this.$confirm("确定要重置所有配置吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.applyPreset("basic"),this.$message.success("配置已重置")})},validateConfig(){const e=[];(this.config.maxHistorySize<0||this.config.maxHistorySize>200)&&e.push("历史记录数应在0-200之间"),(this.config.selectionDelay<0||this.config.selectionDelay>2e3)&&e.push("选择延迟应在0-2000ms之间"),(this.config.borderWidth<1||this.config.borderWidth>10)&&e.push("边框宽度应在1-10px之间"),(this.config.opacity<.1||this.config.opacity>1)&&e.push("透明度应在0.1-1之间"),e.length>0?this.$message.error("配置验证失败："+e.join("；")):this.$message.success("配置验证通过")},addCustomList(){this.config.fillCustomLists.push({name:"新列表",items:[],inputVisible:!1,inputValue:""}),this.updateConfig()},removeCustomList(e){this.config.fillCustomLists.splice(e,1),this.updateConfig()},showInput(e){this.$set(this.config.fillCustomLists[e],"inputVisible",!0),this.$nextTick(()=>{this.$refs.saveTagInput[e].$refs.input.focus()})},handleInputConfirm(e){const t=this.config.fillCustomLists[e],i=t.inputValue;i&&!t.items.includes(i)&&t.items.push(i),t.inputVisible=!1,t.inputValue="",this.updateConfig()},removeListItem(e,t){this.config.fillCustomLists[e].items.splice(t,1),this.updateConfig()}}},n=(i(785),i(2)),a=Object(n.a)(o,(function(){var e=this,t=e._self._c;return t("div",[t("h3",[e._v("自定义配置")]),e._v(" "),t("p",[e._v("区域选择功能提供了丰富的配置选项，可以根据业务需求进行个性化定制。")]),e._v(" "),t("div",{staticStyle:{"margin-bottom":"20px"}},[t("el-alert",{attrs:{title:"配置说明",type:"info",closable:!1,"show-icon":""}},[t("div",[t("p",[e._v("• 可以通过配置对象控制各种功能的开启和关闭")]),e._v(" "),t("p",[e._v("• 支持自定义样式、快捷键、验证规则等")]),e._v(" "),t("p",[e._v("• 可以配置自定义填充列表、权限控制等高级功能")]),e._v(" "),t("p",[e._v("• 实时修改配置可以立即看到效果")])])])],1),e._v(" "),t("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-card",{attrs:{header:"基础功能配置"}},[t("el-form",{attrs:{"label-width":"120px",size:"small"}},[t("el-form-item",{attrs:{label:"显示区域选择"}},[t("el-switch",{on:{change:e.updateConfig},model:{value:e.config.show,callback:function(t){e.$set(e.config,"show",t)},expression:"config.show"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"启用选择"}},[t("el-switch",{on:{change:e.updateConfig},model:{value:e.config.selection,callback:function(t){e.$set(e.config,"selection",t)},expression:"config.selection"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"启用复制"}},[t("el-switch",{on:{change:e.updateConfig},model:{value:e.config.copy,callback:function(t){e.$set(e.config,"copy",t)},expression:"config.copy"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"启用粘贴"}},[t("el-switch",{on:{change:e.updateConfig},model:{value:e.config.paste,callback:function(t){e.$set(e.config,"paste",t)},expression:"config.paste"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"启用剪切"}},[t("el-switch",{on:{change:e.updateConfig},model:{value:e.config.cut,callback:function(t){e.$set(e.config,"cut",t)},expression:"config.cut"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"启用填充"}},[t("el-switch",{on:{change:e.updateConfig},model:{value:e.config.fill,callback:function(t){e.$set(e.config,"fill",t)},expression:"config.fill"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"启用撤销重做"}},[t("el-switch",{on:{change:e.updateConfig},model:{value:e.config.undo,callback:function(t){e.$set(e.config,"undo",t)},expression:"config.undo"}})],1)],1)],1)],1),e._v(" "),t("el-col",{attrs:{span:12}},[t("el-card",{attrs:{header:"高级功能配置"}},[t("el-form",{attrs:{"label-width":"120px",size:"small"}},[t("el-form-item",{attrs:{label:"右键菜单"}},[t("el-switch",{on:{change:e.updateConfig},model:{value:e.config.contextMenu,callback:function(t){e.$set(e.config,"contextMenu",t)},expression:"config.contextMenu"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"粘贴验证"}},[t("el-switch",{on:{change:e.updateConfig},model:{value:e.config.pasteValidation,callback:function(t){e.$set(e.config,"pasteValidation",t)},expression:"config.pasteValidation"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"格式保持"}},[t("el-switch",{on:{change:e.updateConfig},model:{value:e.config.formatPreservation,callback:function(t){e.$set(e.config,"formatPreservation",t)},expression:"config.formatPreservation"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"多选模式"}},[t("el-switch",{on:{change:e.updateConfig},model:{value:e.config.multiSelection,callback:function(t){e.$set(e.config,"multiSelection",t)},expression:"config.multiSelection"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"历史记录数"}},[t("el-input-number",{attrs:{min:10,max:100},on:{change:e.updateConfig},model:{value:e.config.maxHistorySize,callback:function(t){e.$set(e.config,"maxHistorySize",t)},expression:"config.maxHistorySize"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"选择延迟(ms)"}},[t("el-input-number",{attrs:{min:0,max:1e3},on:{change:e.updateConfig},model:{value:e.config.selectionDelay,callback:function(t){e.$set(e.config,"selectionDelay",t)},expression:"config.selectionDelay"}})],1)],1)],1)],1)],1),e._v(" "),t("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-card",{attrs:{header:"样式配置"}},[t("el-form",{attrs:{"label-width":"120px",size:"small"}},[t("el-form-item",{attrs:{label:"选择框颜色"}},[t("el-color-picker",{on:{change:e.updateConfig},model:{value:e.config.selectionColor,callback:function(t){e.$set(e.config,"selectionColor",t)},expression:"config.selectionColor"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"边框宽度"}},[t("el-input-number",{attrs:{min:1,max:5},on:{change:e.updateConfig},model:{value:e.config.borderWidth,callback:function(t){e.$set(e.config,"borderWidth",t)},expression:"config.borderWidth"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"透明度"}},[t("el-slider",{attrs:{min:.1,max:1,step:.1},on:{change:e.updateConfig},model:{value:e.config.opacity,callback:function(t){e.$set(e.config,"opacity",t)},expression:"config.opacity"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"动画效果"}},[t("el-switch",{on:{change:e.updateConfig},model:{value:e.config.animation,callback:function(t){e.$set(e.config,"animation",t)},expression:"config.animation"}})],1)],1)],1)],1),e._v(" "),t("el-col",{attrs:{span:12}},[t("el-card",{attrs:{header:"权限配置"}},[t("el-form",{attrs:{"label-width":"120px",size:"small"}},[t("el-form-item",{attrs:{label:"只读模式"}},[t("el-switch",{on:{change:e.updateConfig},model:{value:e.config.readonly,callback:function(t){e.$set(e.config,"readonly",t)},expression:"config.readonly"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"禁用列"}},[t("el-select",{attrs:{multiple:"",placeholder:"选择禁用的列"},on:{change:e.updateConfig},model:{value:e.config.disabledColumns,callback:function(t){e.$set(e.config,"disabledColumns",t)},expression:"config.disabledColumns"}},e._l(e.columns,(function(e){return t("el-option",{key:e.prop,attrs:{label:e.label,value:e.prop}})})),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"禁用行"}},[t("el-input",{attrs:{placeholder:"输入禁用的行号，用逗号分隔"},on:{change:e.updateConfig},model:{value:e.config.disabledRows,callback:function(t){e.$set(e.config,"disabledRows",t)},expression:"config.disabledRows"}})],1)],1)],1)],1)],1),e._v(" "),t("sc-crud",{ref:"crud",attrs:{data:e.tableData,search:e.searchForm,options:e.options},on:{"update:search":function(t){e.searchForm=t},"area-selection-change":e.handleSelectionChange,"area-config-change":e.handleConfigChange}}),e._v(" "),t("div",{staticStyle:{"margin-top":"20px"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-card",{attrs:{header:"当前配置"}},[t("div",{staticStyle:{height:"200px","overflow-y":"auto"}},[t("pre",{staticStyle:{"font-size":"11px",margin:"0"}},[e._v(e._s(JSON.stringify(e.currentConfig,null,2)))])])])],1),e._v(" "),t("el-col",{attrs:{span:8}},[t("el-card",{attrs:{header:"预设配置"}},[t("div",[t("el-button",{staticStyle:{"margin-bottom":"10px",width:"100%"},attrs:{size:"small"},on:{click:function(t){return e.applyPreset("basic")}}},[e._v("基础配置")]),e._v(" "),t("el-button",{staticStyle:{"margin-bottom":"10px",width:"100%"},attrs:{size:"small"},on:{click:function(t){return e.applyPreset("advanced")}}},[e._v("高级配置")]),e._v(" "),t("el-button",{staticStyle:{"margin-bottom":"10px",width:"100%"},attrs:{size:"small"},on:{click:function(t){return e.applyPreset("readonly")}}},[e._v("只读模式")]),e._v(" "),t("el-button",{staticStyle:{"margin-bottom":"10px",width:"100%"},attrs:{size:"small"},on:{click:function(t){return e.applyPreset("minimal")}}},[e._v("最小配置")]),e._v(" "),t("el-button",{staticStyle:{width:"100%"},attrs:{size:"small"},on:{click:function(t){return e.applyPreset("excel")}}},[e._v("Excel模式")])],1)])],1),e._v(" "),t("el-col",{attrs:{span:8}},[t("el-card",{attrs:{header:"配置操作"}},[t("div",[t("el-button",{staticStyle:{"margin-bottom":"10px",width:"100%"},attrs:{size:"small"},on:{click:e.exportConfig}},[e._v("导出配置")]),e._v(" "),t("el-button",{staticStyle:{"margin-bottom":"10px",width:"100%"},attrs:{size:"small"},on:{click:e.importConfig}},[e._v("导入配置")]),e._v(" "),t("el-button",{staticStyle:{"margin-bottom":"10px",width:"100%"},attrs:{size:"small"},on:{click:e.resetConfig}},[e._v("重置配置")]),e._v(" "),t("el-button",{staticStyle:{width:"100%"},attrs:{size:"small"},on:{click:e.validateConfig}},[e._v("验证配置")])],1)])],1)],1)],1),e._v(" "),t("div",{staticStyle:{"margin-top":"20px"}},[t("el-card",{attrs:{header:"自定义填充列表配置"}},[t("div",{staticStyle:{"margin-bottom":"15px"}},[t("el-button",{attrs:{size:"small",icon:"el-icon-plus"},on:{click:e.addCustomList}},[e._v("添加自定义列表")])],1),e._v(" "),t("el-table",{attrs:{data:e.config.fillCustomLists,size:"small",border:""}},[t("el-table-column",{attrs:{prop:"name",label:"列表名称",width:"150"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-input",{attrs:{size:"mini"},on:{change:e.updateConfig},model:{value:i.row.name,callback:function(t){e.$set(i.row,"name",t)},expression:"scope.row.name"}})]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"items",label:"列表项"},scopedSlots:e._u([{key:"default",fn:function(i){return[e._l(i.row.items,(function(o,n){return t("el-tag",{key:n,staticStyle:{"margin-right":"5px","margin-bottom":"5px"},attrs:{closable:"",size:"mini"},on:{close:function(t){return e.removeListItem(i.$index,n)}}},[e._v("\n              "+e._s(o)+"\n            ")])})),e._v(" "),i.row.inputVisible?t("el-input",{ref:"saveTagInput",staticStyle:{width:"80px"},attrs:{size:"mini"},on:{blur:function(t){return e.handleInputConfirm(i.$index)}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm(i.$index)}},model:{value:i.row.inputValue,callback:function(t){e.$set(i.row,"inputValue",t)},expression:"scope.row.inputValue"}}):t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.showInput(i.$index)}}},[e._v("+ 添加项")])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.removeCustomList(i.$index)}}})]}}])})],1)],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"导入配置",visible:e.importDialogVisible,width:"50%"},on:{"update:visible":function(t){e.importDialogVisible=t}}},[t("el-input",{attrs:{type:"textarea",rows:10,placeholder:"请粘贴配置JSON"},model:{value:e.importConfigText,callback:function(t){e.importConfigText=t},expression:"importConfigText"}}),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.importDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.confirmImport}},[e._v("确 定")])],1)],1)],1)}),[],!1,null,"f8799c6e",null);t.default=a.exports}}]);